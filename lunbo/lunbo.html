<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="lunbo.css">
</head>
<body>
    <div class="scroll">
        <ul class="pic-box">
            <li><a href="###"><img src="images/pic_05.jpg" alt="4"></a></li>
            <li><a href="###"><img src="images/pic_01.jpg" alt="1"></a></li>
            <li><a href="###"><img src="images/pic_02.jpg" alt="2"></a></li>
            <li><a href="###"><img src="images/pic_03.jpg" alt="3"></a></li>
            <li><a href="###"><img src="images/pic_05.jpg" alt="4"></a></li>
            <li><a href="###"><img src="images/pic_01.jpg" alt="1"></a></li>
        </ul>
        <ul class="btn-box">
            <li class="active" currentIndex =0 ><a href="###"></a></li>
            <li><a href="###" currentIndex =1 ></a></li>
            <li><a href="###" currentIndex =2 ></a></li>
            <li><a href="###" currentIndex =3 ></a></li>
        </ul>
        <a class="btn-left" href="###">&lt;</a>
        <a class="btn-right" href="###">&gt;</a>
    </div>
    <script src="jquery-1.11.3.min.js"></script>
    <script>
        $(function(){

            var index = 0;
            var oLi = $('.btn-box li');
            var timer;
            var box = $('.scroll');
            $('.btn-left').on('click',function(){
                if(index <= 0){
                    index = 3;
                } else {
                    index --;
                }
                changeBtn(index);
                changePic(index);
            });

            $('.btn-right').on('click',function(){
                if(index >= 3){
                    index = 0;
                } else {
                    index++;
                }
                changeBtn(index);
                changePic(index);
                console.log(index);
            });
            box.mouseover(function(){
                clearInterval(timer);
                $('.btn-right').show();
                $('.btn-left').show();
            });
            box.mouseout(function(){
                $('.btn-right').hide();
                $('.btn-left').hide();
                auto();
            });
            auto();


            function changePic(index){
                var picBox = $('.pic-box');
                picBox.animate({left:-630*index});
            }

            function changeBtn(index){
                oLi.each(function(i){
                    $(oLi[i]).removeClass('active');
                });

                $(oLi[index]).addClass('active');
            }

            function auto(){
                timer = setInterval(function(){
                    if(index >= 3){
                        index =0;
                    } else {
                        index ++;
                    }
                    changeBtn(index);
                    changePic(index);
                },2000);
            }
            var currentIndex;
            for(var j=0; j < oLi.length; j++){
                oLi[j].currentIndex = j;
                oLi[j].onmouseover = function(){
                    changeBtn(this.currentIndex);
                    changePic(this.currentIndex);
                    index = this.currentIndex;
                };
            }

        });
    </script>
</body>
</html>